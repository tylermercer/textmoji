@import 'modern-normalize/modern-normalize.css' layer(base);

@layer base {

    :root {
        --bottom-bar-height: 64px;
    }

    html {
        scroll-behavior: smooth;
    }

    body {
        padding: 0;
        margin: 0;
        font-size: var(--step-0);
        line-height: var(--lh-0);
        font-family: var(--font-body);
        color: var(--gray-12);
        background-color: var(--gray-1);
    }

    a {
        line-height: var(--lh-0);
        color: var(--primary-11);
        text-decoration-thickness: from-font;
        text-underline-offset: 2px;
        border-radius: 2px;

        &:focus-visible {
            outline: 2px solid var(--primary-8);
        }

        &:hover {
            color: var(--primary-12);
        }
    }

    h1,
    .h1 {
        font-size: var(--step-4);
        line-height: var(--lh-4);
    }

    h2,
    .h2 {
        font-size: var(--step-3);
        line-height: var(--lh-3);
    }

    h3,
    .h3 {
        font-size: var(--step-2);
        line-height: var(--lh-2);
    }

    h1,
    h2,
    h3,
    h4,
    h5,
    h6,
    .h1,
    .h2,
    .h3,
    .h4,
    .h5,
    .h6 {
        color: var(--gray-12);
        font-family: var(--font-heading);
        font-weight: bold;
        margin: 0;

        >a {
            line-height: inherit;
        }
    }

    ul,
    ol {
        padding-left: 0;
        margin: 0;

        &>li {
            list-style-type: none;
        }
    }

    hr {
        width: 100%;
        height: 1px;
        max-height: 1px;
        border: none;
        background-color: var(--gray-6);
    }

    small {
        font-size: var(--step--2);
        color: var(--gray-11);
    }

    p {
        margin: 0;
    }

    blockquote {
        padding: var(--space-s);
        margin: 0;
        border-inline-start: 2px solid var(--primary-9);
        background-color: var(--primary-3);
        color: var(--primary-12);

        &>p:first-child {
            margin-block-start: 0;
        }

        &>p:last-child {
            margin-block-end: 0;
        }
    }

    input,
    textarea,
    button,
    select,
    a {
        -webkit-tap-highlight-color: transparent;
    }

    a[role=button] {
        line-height: 1.15;
        display: inline-block;
        text-decoration: none;
    }

    button,
    a[role=button] {
        background-color: var(--button-color);
        color: var(--button-text-color);
        border-radius: 4px;
        border: none;
        padding: var(--space-xs);
        font-size: inherit;
        cursor: pointer;
        --button-color: var(--primary-9);
        --button-color-hov: var(--primary-10);
        --button-text-color: var(--gray-contrast);
        --button-text-color-hov: var(--gray-contrast);
        --outline-color: var(--primary-8);

        &.btn-secondary {
            --button-color: var(--gray-9);
            --button-color-hov: var(--gray-10);
            --outline-color: var(--gray-8);
        }

        &.btn-contrast {
            --button-color: var(--gray-11);
            --button-color-hov: var(--gray-12);
            --outline-color: var(--gray-8);
        }

        &.btn-danger {
            --button-color: var(--danger);
            --button-color-hov: var(--danger-alt);
            --outline-color: var(--danger);
        }

        &.btn-outline {
            --button-text-color: var(--button-color);
            --button-text-color-hov: var(--button-color-hov);
            background-color: transparent;
            border: 1px solid var(--button-color);
        }

        &:hover:not(:is([disabled], [aria-disabled=true])) {
            --button-color: var(--button-color-hov);
            --button-text-color: var(--button-text-color-hov);
        }

        &:focus-visible {
            outline: 2px solid var(--outline-color);
            outline-offset: 1px;
        }

        &.btn-icon {
            color: var(--primary-11);
            background-color: transparent;
            aspect-ratio: 1;
            display: flex;
            align-items: center;
            justify-content: center;

            &:hover:not(:is([disabled], [aria-disabled=true])) {
                background-color: var(--primary-4);
                color: var(--primary-12);
            }
        }

        &:is([disabled], [aria-disabled=true]) {
            opacity: 0.7;
            filter: grayscale(0.8);
            cursor: default;
        }
    }

    textarea {
        resize: vertical;
        min-height: var(--space-3xl);

        @supports(field-sizing: content) {
            field-sizing: content;
            resize: none;
        }
    }

    input:not(:is([type=button], [type=radio])),
    textarea,
    select {
        background-color: inherit;
        color: inherit;
        width: 100%;
        border-radius: 4px;
        border: 1px solid var(--gray-7);
        display: block;
        padding: var(--space-2xs);

        &:focus {
            outline: 2px solid var(--gray-8);
            outline-offset: 1px;
        }
    }

    input[type=range] {
        padding: 0;
    }

    input[type=color] {
        height: 2em;
        padding: 0;
    }

    label {
        display: block;
        color: var(--gray-11);
    }

    legend {
        color: var(--gray-11);
    }

    fieldset {
        border: none;
        padding: 0;

    }

    dialog::backdrop {
        opacity: 0.5;
        background-color: #000;
    }

    dialog {
        color: var(--gray-12);
        background-color: var(--gray-2);
        padding: var(--space-s);
        max-width: min(90%, 60ch);
        border: none;
        border-radius: var(--space-xs);
        width: auto;
        transform: translateY(-5vh);
    }
}